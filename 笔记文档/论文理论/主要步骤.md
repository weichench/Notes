________

### 有必要将看过的论文梳理一遍

### 有必要了解cmake相关

任务不明确导致分心

EVO 的使用：：：等

搞清楚这两个框架



## 理论部分

1. 通过结构化线特征计算帧间位姿？
2. 滑动窗口还是共视图的后端优化？



___________



_______________

# 当前计划

### 跑通系统

## 东南的双目线ORBslam

+ 运行超内存

  

## 王京的VI—ORB及其双目版本

+ 已编译



## 贺一佳的line-vins







+ 东南的线ORB以原版使用一样，数据集与ROS版
+ VI_ORB只有ROS？

______________





# 主要步骤安排

## 前端

### 图像的预处理

- 畸变矫正
- 曝光的处理，，曝光不足或过曝光
- 滤波

### 可视化对效果的观察

### 特征提取及匹配——参考谢的论文    

- LSD线提取的改进——合并线特征并重新计算描述子
- 线特征端点的处理及维护
- 匹配——由预测的相机位姿，缩小匹配搜索的范围
- 误匹配的剔除——由线特征的方向、长度对匹配进行检验
- 考线特征匹配的时间——双目四边行闭环匹配的检验

### 消失点及挑选结构化线特征

- 每一帧图像都进行消失点的检测，考虑单独开辟线程进行
- 现有的方法是否耗时过大，，考虑论文中随机采样迭代的方式进行消失点的检测——————可待后做
- 由IMU判断重力方向，进而确定y方向——得到另两个方向的消失点
- 根据消失点进行结构线的筛选
- 结构线的初始化——参数化方式——在局部曼哈顿世界系下结构线的表示.

### 帧间跟踪——参考邹的论文

- 新的双目帧做——线特征提取，双目匹配，消失点及结构化直线的检测
- 前后帧间线匹配，线上混合点匹配
- 前后帧3D-2D匹配——根据参数化的方式，将上一帧结构化直线重投影至当前帧，与当前帧的2D的观测形成匹配，产生重投影误差，优化求解当前帧的位姿——PnP直接求解的结果作为初值？还是说直接进行求解？
- 优化的误差函数有，点/线/imu——紧耦合——马氏距离的计算——误差的协方差计算及传递?——先参考点与IMU的——推导出线的
- 优化的求解——该参数化方式下，线特征观测雅克比矩阵的求解？g20？ceres？求解器的使用

------

### 跟踪局部地图——主要参考ORB的思路

- 包含点线的局部地图的更新
- 加入线，地图内共视图的连接关系及其管理
- 在局部地图上做优化，优化变量包含路标点/线？ ————优化变量为当前帧位姿与局部地图上观测到的路标点线

### 局部地图

- 新插入关键帧，更新局部地图
- 局部地图的优化，优化变量为局部地图上所有关键帧的位姿及其路标点

### 闭环检测

- 检测部分直接使用
- 闭环融合——将结构化线特征引入

### 重定位环节的实现

+ 辨识———检测
+ 重定位——结合结构化线特征



### 既然紧耦合的IMU会引入误差，则在运动平稳时，降低IMU数据的权重，或者考虑直接不用，而在运动较快或跟踪丢失时，使用紧耦合的IMU观测————通过实验，以验证IMU的引入对位姿估计结果的影响，从而考虑调整

------

### 基于共视图（ORBSLAM）？

- 有VIO—ORB，但非官方实现————测试实际效果
- 有结合线PL—ORB，———————测试实际效果
- 将上述两者整合，使用结构化线特征——可能减轻一部分工作量
  - ORB的代码框架比较熟悉
  - 只需做好局部地图的管理，直接优化观测误差即可
  - VIO-ORB的理论可能有不太熟悉的地方——不熟好像问题也不大？IMU的部分只是拿来用而已
  - ORB已经5年了，落后？

### 还是基于VINS（滑动窗口的优化）？

- VINS -fusion——————————测试实际效果
- VINS很新
- 理论部分比较熟悉
- 没有Line-VINS，需要参考PL——ORB的线特征部分进行代码实现
- 代码框架不熟悉，，理清代码框架可能还得花时间
- 基于滑动窗口的优化，观测的边缘化仍然涉及一部分数学理论及推倒，，可能有难度？

### 目前考虑

- 测试实际效果——根据效果判断
- 回头对比一下两者的大致理论差异
- 快速浏览VINS的代码框架——判断二次开发的难度

------









